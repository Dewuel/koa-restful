{"version":3,"sources":["webpack:///src/views/login.vue","webpack:///./src/views/login.vue?76d1","webpack:///./src/views/login.vue"],"names":["login","name","data","loginForm","user_name","password","checked","loginRules","required","trigger","validator","rule","value","callback","length","Error","created","lett","this","document","onkeydown","e","window","event","keyCode","userLogin","methods","_ref","_this","$refs","validate","asyncToGenerator_default","regenerator_default","a","mark","_callee","valid","wrap","_context","prev","next","request","then","maxAge","Date","getTime","js_cookie_default","set","token","expires","user","$router","push","catch","error","console","log","abrupt","stop","_x","apply","arguments","views_login","render","_vm","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","model","rules","prop","type","auto-complete","$$v","$set","expression","staticStyle","margin-left","on","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/7.bccf106e5c17376fa602.js","sourcesContent":["<template>\n  <div class=\"login\">\n    <div class=\"login-header\">运维一体化平台</div>\n    <div class=\"login-container\">\n      <el-form :model=\"loginForm\" :rules=\"loginRules\" ref=\"loginForm\" class=\"login-form\">\n        <el-form-item prop=\"user_name\">\n          <span class=\"login-icon\">用户名</span>\n          <el-input type=\"text\" v-model=\"loginForm.user_name\" name=\"user_name\" auto-complete=\"on\"></el-input>\n        </el-form-item>\n        <el-form-item prop=\"password\">\n          <span class=\"login-icon\">密码</span>\n          <el-input type=\"password\" v-model=\"loginForm.password\" name=\"password\" auto-complete=\"on\"></el-input>\n        </el-form-item>\n        <el-form-item prop=\"pwd\">\n          <el-checkbox style=\"margin-left: 300px;\" v-model=\"checked\">记住登录状态</el-checkbox>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"userLogin\">登录</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\n  import request from \"@/utils/request\"\n  import Cookies from 'js-cookie'\n  export default {\n    name: \"login\",\n    data(){\n      const validateUserName = (rule, value, callback) => {\n        if (value.length < 1) {\n          callback(new Error('Please enter the correct user name'))\n        } else {\n          callback()\n        }\n      };\n      const validatePassword = (rule, value, callback) => {\n        if (value.length < 1) {\n          callback(new Error('The password can not be less than 6 digits'))\n        } else {\n          callback()\n        }\n      };\n      return {\n        loginForm: {\n          user_name: 'admin',\n          password: '123456'\n        },\n        checked: true,\n        loginRules: {\n          user_name: [{ required: true, trigger: 'blur', validator: validateUserName }],\n          password: [{ required: true, trigger: 'blur', validator: validatePassword }]\n        }\n      };\n    },\n    created() {\n      let lett = this;\n      document.onkeydown = function(e) {\n        let key = window.event.keyCode;\n        if (key === 13) {\n          lett.userLogin();\n        }\n      }\n    },\n    methods: {\n      userLogin(){\n        this.$refs.loginForm.validate(async valid => {\n          if (valid) {\n            await request.login('/apis/sysmgr/user/login', this.loginForm).then(data => {\n              let maxAge = new Date(new Date().getTime() + 4 * 60 * 60 * 1000);\n              Cookies.set(\"token\", 'Bearer '+ data.token,{ expires: maxAge });\n              Cookies.set(\"user\", data.user,{ expires: 1 });\n              this.$router.push('/home');\n            }).catch(error => {\n\n            });\n          } else {\n            console.log('error submit!!')\n            return false\n          }\n        })\n      },\n    },\n  }\n</script>\n\n<style>\n  .login{\n    width: 100%;\n    height: 100%;\n    background-color: #2d3a4b;\n    overflow: hidden;\n  }\n  .login .login-header{\n    position: absolute;\n    top: 18%;\n    width: 100%;\n    font-weight: bold;\n    text-align: center;\n    font-size: 38px;\n    color: white;\n  }\n  .login .login-container{\n    position: absolute;\n    top: 30%;\n    left: 50%;\n    width: 500px;\n    margin-left: -250px;\n    background-color: #ffffff;\n  }\n  .login .login-container .login-form{\n    padding: 20px 30px;\n  }\n\n  .login .login-container .login-form .el-form-item .el-input__inner{\n    border-radius: 2px;\n  }\n  .login .login-container .login-form .el-form-item button{\n    width: 100%;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"login-header\"},[_vm._v(\"运维一体化平台\")]),_vm._v(\" \"),_c('div',{staticClass:\"login-container\"},[_c('el-form',{ref:\"loginForm\",staticClass:\"login-form\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.loginRules}},[_c('el-form-item',{attrs:{\"prop\":\"user_name\"}},[_c('span',{staticClass:\"login-icon\"},[_vm._v(\"用户名\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"type\":\"text\",\"name\":\"user_name\",\"auto-complete\":\"on\"},model:{value:(_vm.loginForm.user_name),callback:function ($$v) {_vm.$set(_vm.loginForm, \"user_name\", $$v)},expression:\"loginForm.user_name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('span',{staticClass:\"login-icon\"},[_vm._v(\"密码\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"type\":\"password\",\"name\":\"password\",\"auto-complete\":\"on\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"pwd\"}},[_c('el-checkbox',{staticStyle:{\"margin-left\":\"300px\"},model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}},[_vm._v(\"记住登录状态\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.userLogin}},[_vm._v(\"登录\")])],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1d4c88a7\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1d4c88a7\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1d4c88a7\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}