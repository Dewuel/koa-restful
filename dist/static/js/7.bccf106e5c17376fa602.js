webpackJsonp([7],{"6pFD":function(e,n){},Quw4:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=r("Xxa5"),o=r.n(t),s=r("exGp"),a=r.n(s),i=r("vLgD"),l=r("lbHh"),c=r.n(l),u={name:"login",data:function(){return{loginForm:{user_name:"admin",password:"123456"},checked:!0,loginRules:{user_name:[{required:!0,trigger:"blur",validator:function(e,n,r){n.length<1?r(new Error("Please enter the correct user name")):r()}}],password:[{required:!0,trigger:"blur",validator:function(e,n,r){n.length<1?r(new Error("The password can not be less than 6 digits")):r()}}]}}},created:function(){var e=this;document.onkeydown=function(n){13===window.event.keyCode&&e.userLogin()}},methods:{userLogin:function(){var e,n=this;this.$refs.loginForm.validate((e=a()(o.a.mark(function e(r){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=5;break}return e.next=3,i.a.login("/apis/sysmgr/user/login",n.loginForm).then(function(e){var r=new Date((new Date).getTime()+144e5);c.a.set("token","Bearer "+e.token,{expires:r}),c.a.set("user",e.user,{expires:1}),n.$router.push("/home")}).catch(function(e){});case 3:e.next=7;break;case 5:return console.log("error submit!!"),e.abrupt("return",!1);case 7:case"end":return e.stop()}},e,n)})),function(n){return e.apply(this,arguments)}))}}},m={render:function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"login"},[r("div",{staticClass:"login-header"},[e._v("运维一体化平台")]),e._v(" "),r("div",{staticClass:"login-container"},[r("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules}},[r("el-form-item",{attrs:{prop:"user_name"}},[r("span",{staticClass:"login-icon"},[e._v("用户名")]),e._v(" "),r("el-input",{attrs:{type:"text",name:"user_name","auto-complete":"on"},model:{value:e.loginForm.user_name,callback:function(n){e.$set(e.loginForm,"user_name",n)},expression:"loginForm.user_name"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("span",{staticClass:"login-icon"},[e._v("密码")]),e._v(" "),r("el-input",{attrs:{type:"password",name:"password","auto-complete":"on"},model:{value:e.loginForm.password,callback:function(n){e.$set(e.loginForm,"password",n)},expression:"loginForm.password"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"pwd"}},[r("el-checkbox",{staticStyle:{"margin-left":"300px"},model:{value:e.checked,callback:function(n){e.checked=n},expression:"checked"}},[e._v("记住登录状态")])],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.userLogin}},[e._v("登录")])],1)],1)],1)])},staticRenderFns:[]};var p=r("VU/8")(u,m,!1,function(e){r("6pFD")},null,null);n.default=p.exports}});
//# sourceMappingURL=7.bccf106e5c17376fa602.js.map